{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport default async function fetchImages(searchQuery) {\n  return pixabayRequest(searchQuery);\n}\n\nasync function pixabayRequest(searchQuery) {\n  const myApiKey = '49525829-4ad651e5c3f704318c87db2e9';\n  const url = 'https://pixabay.com/api/';\n\n  try {\n    const response = await axios.get(url, {\n      params: {\n        key: myApiKey,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default async function renderGallery(galleryJSON) {\n  try {\n    const galleryData = await galleryJSON;\n    console.log(galleryData);\n    const createGalleryMarkup = images => {\n      return images\n        .map(\n          ({ previewURL, largeImageURL, tags }) =>\n            `<li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                  <img\n                      class=\"gallery-image\"\n                      src=\"${previewURL}\"\n                      alt=\"${tags}\"\n                  />\n              </a>\n            </li>`\n        )\n        .join('');\n    };\n\n    const formSearch = document.querySelector('.form');\n    let galleryList = document.querySelector('.gallery');\n    galleryList = document.createElement('ul');\n    galleryList.className = 'gallery';\n    formSearch.insertAdjacentElement('afterend', galleryList);\n    galleryList.innerHTML = createGalleryMarkup(galleryData.hits);\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    lightbox.on('close.simplelightbox', () => {});\n  } catch (error) {\n    console.error('Error rendering gallery:', error);\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport fetchImages from './js/pixabay-api';\nimport renderGallery from './js/render-functions';\n\nconst formHandler = () => {\n  const formSearch = document.querySelector('.form');\n  const searchText = formSearch.elements['search-text'];\n  searchText.autocomplete = 'off';\n\n  formSearch.addEventListener('submit', event => {\n    event.preventDefault();\n    const fetchResultJSON = fetchImages(searchText.value);\n\n    if (fetchResultJSON) {\n      iziToast.success({\n        title: 'Success',\n        message: 'Images fetched successfully!',\n        position: 'topRight',\n      });\n      renderGallery(fetchResultJSON);\n    } else {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    }\n  });\n\n  window.addEventListener('load', () => {\n    searchText.focus();\n  });\n};\n\nformHandler();\n"],"names":["fetchImages","searchQuery","pixabayRequest","myApiKey","url","axios","error","renderGallery","galleryJSON","galleryData","createGalleryMarkup","images","previewURL","largeImageURL","tags","formSearch","galleryList","SimpleLightbox","formHandler","searchText","event","fetchResultJSON","iziToast"],"mappings":"owBACe,eAAeA,EAAYC,EAAa,CACrD,OAAOC,EAAeD,CAAW,CACnC,CAEA,eAAeC,EAAeD,EAAa,CACzC,MAAME,EAAW,qCACXC,EAAM,2BAEZ,GAAI,CAUF,OATiB,MAAMC,EAAM,IAAID,EAAK,CACpC,OAAQ,CACN,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GACe,IACjB,OAAQK,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACV,CACA,CCrBe,eAAeC,EAAcC,EAAa,CACvD,GAAI,CACF,MAAMC,EAAc,MAAMD,EAC1B,QAAQ,IAAIC,CAAW,EACvB,MAAMC,EAAsBC,GACnBA,EACJ,IACC,CAAC,CAAE,WAAAC,EAAY,cAAAC,EAAe,KAAAC,CAAM,IAClC;AAAA,8CACkCD,CAAa;AAAA;AAAA;AAAA,6BAG9BD,CAAU;AAAA,6BACVE,CAAI;AAAA;AAAA;AAAA,kBAIjC,EACS,KAAK,EAAE,EAGNC,EAAa,SAAS,cAAc,OAAO,EACjD,IAAIC,EAAc,SAAS,cAAc,UAAU,EACnDA,EAAc,SAAS,cAAc,IAAI,EACzCA,EAAY,UAAY,UACxBD,EAAW,sBAAsB,WAAYC,CAAW,EACxDA,EAAY,UAAYN,EAAoBD,EAAY,IAAI,EAE3C,IAAIQ,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACpB,CAAK,EACQ,GAAG,uBAAwB,IAAM,EAAE,CAC7C,OAAQX,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CACnD,CACA,CClCA,MAAMY,EAAc,IAAM,CACxB,MAAMH,EAAa,SAAS,cAAc,OAAO,EAC3CI,EAAaJ,EAAW,SAAS,aAAa,EACpDI,EAAW,aAAe,MAE1BJ,EAAW,iBAAiB,SAAUK,GAAS,CAC7CA,EAAM,eAAgB,EACtB,MAAMC,EAAkBrB,EAAYmB,EAAW,KAAK,EAEhDE,GACFC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAClB,CAAO,EACDf,EAAcc,CAAe,GAE7BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,CAEP,CAAG,EAED,OAAO,iBAAiB,OAAQ,IAAM,CACpCH,EAAW,MAAO,CACtB,CAAG,CACH,EAEAD,EAAa"}